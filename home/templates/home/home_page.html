{% extends "base.html" %}
{% load wagtailimages_tags wagtailcore_tags cache %}

{% block body_class %}home-page{% endblock %}


{% block banner %}
    {% image page.banner_background_image fill-1600x800 as bg_img %}

    <section class="hero" style="background-image: url('{{bg_img.url}}');">
       <div class="hero-overlay"></div> 
       <div class="hero-content container text-white">
           <h1 class="display-4 fw-bold">{{page.title}}</h1>
           {% if page.lead_text %}
               <p>{{page.lead_text}}</p>
           {% endif %}

           {% if page.button %}
               <a href="{{page.button.url}}" class="btn btn-primary btn-lh px-4 py-2">{{page.button_text}}</a>
           {% endif %}
       </div>
    </section>



{% endblock banner %}

{% block content %}
    {% if not request.is_preview %}
        {% cache 2592000 home_page_streams page.id %}
            {% for block in page.body %}
            <section class="py-5 {% if forloop.counter|divisibleby:2%}bg-light{% else %}bg-white{% endif %}">
                {% include_block block  %}
            </section>
            {% endfor %}
        {% endcache %}
    {% else %}
        {% for block in page.body %}
        <section class="py-5 {% if forloop.counter|divisibleby:2%}bg-light{% else %}bg-white{% endif %}">
            {% include_block block  %}
        </section>
        {% endfor %}
    {% endif %}
{% endblock content %}
